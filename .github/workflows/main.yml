name: CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: [3.8]

    steps:
    - uses: actions/checkout@v2
    - name: Set up Python ${{ matrix.python-version }}
      uses: actions/setup-python@v1
      with:
        python-version: ${{ matrix.python-version }}
    - name: Install ubuntu dependencies
      run: |
        sudo apt-get update && \
        apt-get install cmake g++ libboost-filesystem-dev \
        libboost-iostreams-dev \
        libboost-math-dev \
        libomp-dev
        libboost-program-options-dev \
        libboost-system-dev \
        libboost-thread-dev \
        libboost-timer-dev \
        python3-dev \
        python3-numpy \
        apt-get clean && \
        rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*

    - name: Build goss
      run: |
        mkdir -p build
        cd build
        cmake ..
        make
        